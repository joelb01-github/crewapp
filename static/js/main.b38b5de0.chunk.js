(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){e.exports=a(256)},144:function(e,t,a){},250:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(38),s=a.n(o),c=a(18),l=a(19),i=a(22),u=a(20),m=a(21),p=(a(144),a(282)),d=a(210),f=a(278),g=a(281),E=a(100),b=a.n(E);b.a.initializeApp({apiKey:"AIzaSyBRkkC7d-FEM00kY_8klyMwxaCshaJsYDg",authDomain:"crewapp-f3f55.firebaseapp.com",databaseURL:"https://crewapp-f3f55.firebaseio.com",projectId:"crewapp-f3f55",storageBucket:"crewapp-f3f55.appspot.com",messagingSenderId:"500043605858"});var h=b.a.database(),O=function(){return{type:"REQUEST_SCORES",payload:null}},v=function(e){return{type:"RECEIVE_SCORES",payload:e}},j=function(e){return{type:"FAILED_SCORE",payload:e}},y=function(e){return{type:"ADDED_SCORE",payload:e}},w=a(12),S=a(258),C=a(259),k=a(260),M=a(261),N=a(262),L=a(263),D=a(264),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(w.a)(Object(w.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(S.a,{color:"light",light:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(C.a,{className:"mr-auto"},"Le Crew Game"),r.a.createElement(k.a,{onClick:this.toggle}),r.a.createElement(M.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(N.a,{className:"ml-auto",navbar:!0},r.a.createElement(L.a,null,r.a.createElement(D.a,{className:"nav-link",to:"/crewapp"},r.a.createElement("span",{className:"fa fa-home fa-lg"})," Home")),r.a.createElement(L.a,null,r.a.createElement(D.a,{className:"nav-link",to:{pathname:"/hall/link",state:{points:null,fromGame:!1}}},r.a.createElement("span",{className:"fa fa-trophy fa-lg"})," Hall of Fame"))))))}}]),t}(n.Component);var F=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",null,"\xa9 Copyright 2019 Salvi Crew")))))},R=a(265),q=a(266),A=a(212),x=function(){return r.a.createElement("div",null,r.a.createElement(R.a,null,r.a.createElement("h1",{className:"display-3"},"Hello, Crew!"),r.a.createElement("p",{className:"lead"},"Etais-tu trop bourr\xe9 ou sauras-tu t'en rappeler???"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("h4",null,"Regles du jeu"),r.a.createElement("p",null,"10 questions sur les photos qui te seront pr\xe9sent\xe9es."),r.a.createElement("p",null,"1 bonne r\xe9ponse = 1 point"),r.a.createElement("p",null,"1 mauvaise r\xe9ponse = - 0.5 point"),r.a.createElement("p",{className:"lead"},r.a.createElement(A.a,{to:"/game"},r.a.createElement(q.a,{color:"primary"},"GO")))))},_=a(267),P=a(268),G=a(269),I=a(270),T=a(271),Q=a(272),V=[{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2007tignes1.jpg?alt=media&token=d51478fd-1eaa-4cdf-8b52-baa6a5791cb0",question:"C'est ou???",answers:["Bayonne","Morillon","Tignes","Aime la pute"],solution:"Tignes"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2008barca6.jpg?alt=media&token=782d04ed-4f61-46ce-a1ee-8f59add0b2e4",question:"C'est ou???",answers:["Bayonne","La Goule","le Vall d'Hebron","Auteuil Neuilly Passy"],solution:"le Vall d'Hebron"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2008interailberlin.jpg?alt=media&token=0b948788-3988-48d6-aaab-0063d77bff17",question:"C'est ou???",answers:["Biarritz","Deauville","La Baule","Berlin"],solution:"Berlin"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2011paris3.jpg?alt=media&token=e4d89b6f-ba66-4108-9e6f-0e71bc8638d5",question:"C'est en quelle ann\xe9e???",answers:["2009","2010","2011","2012"],solution:"2011"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2010casapo3.jpg?alt=media&token=f84c2703-dd55-4402-91a8-7a619f953b1e",question:"C'est ou???",answers:["Le Vaucluse","Chez Dayday","La casa du Papa de PO","Pornic"],solution:"La casa du Papa de PO"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2008interail3.jpg?alt=media&token=fef6da18-912e-406d-88b4-4ad3351b901e",question:"C'est ou???",answers:["Berlin","Prague","Vienne","Budapest"],solution:"Budapest"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2008interail3.jpg?alt=media&token=fef6da18-912e-406d-88b4-4ad3351b901e",question:"C'est en quelle ann\xe9e???",answers:["2006","2007","2008","2009"],solution:"2008"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2008barca3.jpg?alt=media&token=5c7b94cc-1726-4d60-8048-b220cc0d73d2",question:"Dans quelle ville Doudou drague-t-il???",answers:["Barcelone","Biarritz","La Baule","Berlin"],solution:"Barcelone"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2010morillon2.jpg?alt=media&token=595106f5-caca-40b5-9c31-3932d162847e",question:"Dans quel lieu JB a-t-il mis au point sa fondue pour la premi\xe8re fois???",answers:["La Plagne","Aime la pute","Morillon","Tignes"],solution:"Morillon"},{src:"https://firebasestorage.googleapis.com/v0/b/crewapp-f3f55.appspot.com/o/images%2F2011perigord1.jpg?alt=media&token=5bf0fa5a-dab8-43cb-a925-813ef6742993",question:"C'est ou???",answers:["Perigord","Le Vaucluse","Pornic","Corse"],solution:"Perigord"}],H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isEnd:!1,counter:0,points:0},a.toggleNextQuestion=a.toggleNextQuestion.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toggleNextQuestion",value:function(e){e===V[this.state.counter].solution?this.setState({points:this.state.points+1}):this.setState({points:this.state.points-.5}),this.state.counter===V.length-1?this.setState({isEnd:!0}):this.setState({counter:this.state.counter+1})}},{key:"render",value:function(){var e=this,t=V[this.state.counter].answers,a=V[this.state.counter].question,n=V[this.state.counter].src,o=t.map(function(t,a){return r.a.createElement(q.a,{key:a,outline:!0,block:!0,color:"secondary",onClick:function(){e.toggleNextQuestion(t)}},t)});return this.state.isEnd?r.a.createElement("div",null,r.a.createElement(f.a,{to:{pathname:"/hall/game",state:{points:this.state.points,fromGame:!0}}})):r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(function(){return r.a.createElement(_.a,{className:"salvicard"},r.a.createElement(P.a,{top:!0,className:"img-fluid",src:n,alt:"Card image"}),r.a.createElement(G.a,null,r.a.createElement(I.a,null,"Question ",e.state.counter+1),r.a.createElement(T.a,null),r.a.createElement(Q.a,null,a),r.a.createElement("div",{className:"row justify-content-center"},o)))},null)))}}]),t}(n.Component),z=a(273),Y=a(280),J=a(274),U=a(275),W=a(276),K=a(277),$=function(){return r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),r.a.createElement("p",null,"Loading . . ."))},X=function(e){return r.a.createElement("h4",null,e.errMess)},Z=a(101),ee=a(17),te=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Crew Member"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,r.a.createElement(ae,{scores:this.props.scores}))),r.a.createElement("div",null,r.a.createElement(ne,{scores:this.props.scores,points:this.props.points,fromGame:this.props.fromGame,addScore:this.props.addScore})))}}]),t}(n.Component),ae=function(e){return e.scores.isLoading?r.a.createElement($,null):e.scores.errMess?r.a.createElement(X,{errMess:e.scores.errMess}):e.scores.scores.sort(function(e,t){return t.score-e.score}).map(function(e,t){if(t<20)return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.score),r.a.createElement("td",null,e.date))})},ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isModalOpen:a.props.fromGame},a.handleSubmit=a.handleSubmit.bind(Object(w.a)(Object(w.a)(a))),a.toggleModal=a.toggleModal.bind(Object(w.a)(Object(w.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){this.toggleModal();var t=new Date;this.props.addScore({date:t.toLocaleDateString("en-GB"),name:e.name,score:this.props.points})}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal},r.a.createElement(J.a,{toggle:this.toggleModal},"Submit Score"),r.a.createElement(U.a,null,r.a.createElement("p",null,"Your score is: ",this.props.points),r.a.createElement("p",null,"Add you name to the Hall of Fame"),r.a.createElement(Z.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(W.a,{className:"form-group"},r.a.createElement(K.a,{htmlFor:"name"},"Nickname"),r.a.createElement(Z.Control.text,{model:".name",id:"name",name:"name",placeholder:"Your Name",className:"form-control"})),r.a.createElement(W.a,{className:"form-group"},r.a.createElement(q.a,{type:"submit"},"Submit"))))))}}]),t}(n.Component),re=Object(ee.connect)(function(e){return{scores:e.scores}},function(e){return{addScore:function(t){e(function(e){return function(t){return h.ref("leaders").push().then(function(a){return a.set(e).then(function(){return a.once("value")}).then(function(e){var a=e.val();return a.id=e.key,t(y(a))}).catch(function(e){console.log("Add new score failed ",e.message),alert("Your score could not be added\nError: "+e.message)})})}}(t))}}})(te),oe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchScores()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(d.a,{exact:!0,path:"/crewapp",component:function(){return r.a.createElement(x,null)}}),r.a.createElement(d.a,{exact:!0,path:"/hall/:from",component:function(e){var t=e.location;return r.a.createElement(re,{points:t.state.points,fromGame:t.state.fromGame})}}),r.a.createElement(d.a,{exact:!0,path:"/game",component:function(){return r.a.createElement(H,null)}}),r.a.createElement(f.a,{to:"/crewapp"}))),r.a.createElement(F,null))}}]),t}(n.Component),se=Object(g.a)(Object(ee.connect)(function(e){return{comments:e.comments}},function(e){return{fetchScores:function(){e(function(e){return e(O()),h.ref("leaders").once("value").then(function(e){var t=[];return e.forEach(function(e){var a=e.val();a.id=e.key,t.push(a)}),t}).then(function(t){return e(v(t))}).catch(function(t){return e(j(t.message))})})}}})(oe)),ce=a(28),le=a(74),ie=a(24),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMsg:null,comments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return Object(ie.a)({},e,{isLoading:!1,errMsg:null,comments:[].concat(Object(le.a)(e.comments),[t.payload])});case"RECEIVE_COMMENTS":return Object(ie.a)({},e,{isLoading:!1,errMsg:null,comments:t.payload});case"FAILED_COMMENT":return Object(ie.a)({},e,{isLoading:!1,errMsg:t.payload,comments:[]});case"REQUEST_COMMENTS":return Object(ie.a)({},e,{isLoading:!0,errMsg:null,comments:[]});default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMsg:null,scores:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDED_SCORE":return Object(ie.a)({},e,{isLoading:!1,errMsg:null,scores:[].concat(Object(le.a)(e.scores),[t.payload])});case"RECEIVE_SCORES":return Object(ie.a)({},e,{isLoading:!1,errMsg:null,scores:t.payload});case"FAILED_SCORE":return Object(ie.a)({},e,{isLoading:!1,errMsg:t.payload,scores:[]});case"REQUEST_SCORES":return Object(ie.a)({},e,{isLoading:!0,errMsg:null,scores:[]});default:return e}},pe=a(137),de=a(138),fe=a.n(de),ge=a(279),Ee=function(){var e=Object(ce.combineReducers)({scores:me,comments:ue});return Object(ce.createStore)(e,Object(ce.applyMiddleware)(pe.a,fe.a))}(),be=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.Provider,{store:Ee},r.a.createElement(ge.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{path:"/",component:se}))))}}]),t}(n.Component);a(250),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(252),a(254);s.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[139,2,1]]]);
//# sourceMappingURL=main.b38b5de0.chunk.js.map